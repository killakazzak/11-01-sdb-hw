# Домашнее задание к занятию "`Базы данных, их типы`" - `Тен Денис`

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*

### Решение Задание 1. СУБД

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

Для решения задач бюджетирования проектов с формированием финансовых аналитических отчетов и прогнозирования рисков, рекомендуется использовать реляционные СУБД. 
Реляционные СУБД, такие как PostgreSQL, MySQL или Oracle, обеспечивают целостность данных с помощью ограничений целостности, транзакций и возможности создания связей между таблицами. Это позволяет гарантировать, что данные будут сохранены в структурированной форме и предоставлять возможность для выполнения сложных запросов и аналитических операций.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

Для ускорения работы хеширования в задаче, можно использовать специализированные API или библиотеки, которые оптимизированы для выполнения хеш-функций. Одним из таких API является OpenSSL. OpenSSL предоставляет набор функций для криптографических операций, включая хеширование. Он реализует различные алгоритмы хеширования, такие как SHA-1, SHA-256, MD5 и другие. OpenSSL имеет оптимизированные реализации хеш-функций, которые могут значительно ускорить процесс хеширования. Еще одним популярным API для хеширования является Bcrypt. Bcrypt представляет собой адаптивную хеш-функцию, которая может быть настроена на различные параметры, такие как количество раундов и размер соли. Bcrypt обеспечивает безопасное и медленное хеширование, что делает его более устойчивым к атакам перебора и ускоряет процесс хеширования.

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

Для решения задачи управления данными лендингов и CRM, рекомендуется использовать комбинацию различных типов СУБД, которые будут соответствовать требованиям гибкости и быстродействия.

- Для лендингов: Для управления данными на лендингах, где обычно используется структурированный формат данных, реляционные СУБД, такие как PostgreSQL, MySQL или Microsoft SQL Server, могут быть хорошим выбором. Они обеспечивают целостность данных, возможность создания связей между таблицами и выполнять сложные запросы. Это полезно при хранении информации о лидах, контактах и других сущностях на лендингах.

- Для CRM: Для управления данными в CRM, где обычно требуется обработка большого объема данных и гибкость в структуре данных, нереляционные СУБД, такие как MongoDB или Apache Cassandra, могут быть предпочтительными. Нереляционные СУБД обеспечивают горизонтальное масштабирование, высокую производительность и гибкую структуру данных. Это полезно при хранении информации о клиентах, истории взаимодействий, сделках и других динамических данных в CRM.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

Да, возможно закрыть эту задачу с использованием одной СУБД. В данном случае рекомендуется использовать нереляционную СУБД, которая обладает достаточной гибкостью и быстродействием для управления данными и лендингов, и CRM.
Один из примеров такой СУБД - MongoDB. MongoDB является документоориентированной нереляционной СУБД, которая хранит данные в формате JSON-подобных документов. Она обеспечивает гибкость в структуре данных и хорошую производительность при обработке больших объемов данных.

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

Для решения задачи создания базы данных по корпоративным нормам и правилам, обучающему материалу и другой информации с простой и понятной структурой, рекомендуется использовать реляционные СУБД. Реляционные СУБД лучше всего подойдут для создания базы данных по корпоративным нормам и правилам, обучающему материалу и другой информации с простой и понятной структурой, так как они обеспечивают структурированное хранение данных, целостность данных, простой язык запросов и имеют широкую поддержку и экосистему.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

Да, возможно использовать уже существующую реляционную СУБД, которая была упомянута в предыдущих задачах (например, PostgreSQL, MySQL или Microsoft SQL Server) для решения задачи создания базы данных по корпоративным нормам и правилам, обучающему материалу и другой информации.

- Создание новых таблиц: В существующей базе данных можно создать новые таблицы, которые будут хранить данные по корпоративным нормам, правилам и обучающему материалу. Каждая таблица может быть организована согласно структуре компании и содержать необходимые поля для хранения информации. Например, можно создать таблицу "Norms" для хранения корпоративных норм, таблицу "TrainingMaterials" для хранения обучающего материала и т.д.
- Использование связей: Если данные по корпоративным нормам, правилам и обучающему материалу имеют связи между собой или с данными из других задач, можно использовать связи между таблицами. Например, можно создать внешние ключи, чтобы связать таблицу "Norms" с таблицей "Employees" или "Departments", если это необходимо для структуры компании.
- Оптимизация запросов: При добавлении новых таблиц и данных следует учесть оптимизацию запросов. Индексы могут быть созданы для ускорения выполнения запросов, особенно если данные по корпоративным нормам и правилам могут быть объемными.
- Управление доступом: Важно обеспечить соответствующие права доступа к таблицам и данным в соответствии с требованиями безопасности. Необходимо определить роли и разрешения для различных пользователей или групп пользователей.

Использование уже существующей реляционной СУБД позволит вам использовать уже имеющуюся инфраструктуру, управлять данными в одной системе и облегчить интеграцию с другими задачами, если это требуется. Однако, важно учитывать, что структура и модель данных должны быть адаптированы к требованиям базы данных по корпоративным нормам и правилам.

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

Для решения задач департамента логистики по формированию маршрутов доставки материалов и распределению курьеров по маршрутам с доставкой документов, рекомендуется использовать графовые СУБД.
Графовые СУБД, такие как Neo4j или Amazon Neptune, лучше всего подходят для работы с данными, где важны связи и отношения между объектами. 

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

Да, возможно подключить отдел закупок к графовой СУБД, используемой департаментом логистики, если это требуется для обеспечения необходимых связей и взаимодействия между отделами.

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

Да, все перечисленные выше задачи могут быть решены, используя одну реляционную СУБД. 
Реляционные СУБД, такие как PostgreSQL, MySQL или Microsoft SQL Server, обладают гибкостью в моделировании данных и мощными возможностями для работы со связями и выполнения запросов. Они позволяют создавать и управлять различными таблицами и связями между ними, обеспечивая единое хранилище данных для всех задач.
Чтобы решить все перечисленные задачи, можно создать несколько таблиц в одной реляционной СУБД, каждая из которых будет отвечать за определенный аспект:

- Таблица сотрудников: Хранит информацию о сотрудниках, их ролях и других сопутствующих данных.
- Таблица департаментов: Хранит информацию о департаментах, их связях с сотрудниками и других сопутствующих данных.
- Таблица корпоративных норм и правил: Хранит информацию о корпоративных нормах, правилах и связях с департаментами или сотрудниками.
- Таблица обучающего материала: Хранит информацию о обучающем материале и связях с соответствующими департаментами или сотрудниками.
- Таблица маршрутов доставки и курьеров: Хранит информацию о маршрутах доставки, связях с документами, курьерами и других сопутствующих данных. С использованием связей между таблицами можно эффективно организовать хранение данных и выполнение запросов для всех задач. Кроме того, реляционные СУБД обеспечивают возможности для оптимизации запросов, управления доступом и обеспечения безопасности данных.

Таким образом, одна реляционная СУБД, такая как PostgreSQL, MySQL или Microsoft SQL Server, может быть использована для решения всех перечисленных задач, предоставляя единое хранилище данных и обеспечивая гибкость в моделировании и выполнении запросов.



---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

*Приведите ответ в свободной форме.*

### Решение Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

Для успешного завершения транзакции по пополнению баланса счёта телефона с использованием СУБД (системы управления базами данных), необходимо выполнить следующие шаги:

Шаг 1: Запрос на пополнение баланса
- Приложение должно сформировать запрос на пополнение баланса с указанием необходимых данных, таких как номер телефона и сумма пополнения.

Шаг 2: Установка соединения с СУБД
- Приложение должно установить соединение с СУБД для выполнения операций с базой данных. Это может включать установку TCP/IP-соединения с сервером базы данных и аутентификацию пользователя.

Шаг 3: Начало транзакции
- Приложение должно начать транзакцию в СУБД. Это обеспечит атомарность, согласованность, изолированность и долговечность (ACID-свойства) транзакции.

Шаг 4: Обновление данных
- Приложение должно выполнить операцию обновления данных в базе данных, увеличивая баланс счета телефона на указанную сумму. Это может быть выполнено с использованием SQL-запроса UPDATE.

Шаг 5: Подтверждение транзакции
- При успешном обновлении данных, приложение должно подтвердить транзакцию в СУБД, чтобы изменения стали постоянными. Это осуществляется с помощью команды COMMIT.

Шаг 6: Завершение транзакции
- После подтверждения транзакции, приложение должно закрыть соединение с СУБД или освободить ресурсы, используемые для выполнения операций с базой данных.

Важно отметить, что при возникновении ошибок или неудачном выполнении шагов 4-5, приложение должно откатить транзакцию и восстановить базу данных в исходное состояние. Это достигается с помощью команды ROLLBACK. Таким образом, обеспечивается целостность данных и избегается возможность неконсистентного состояния.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

Если пополнение счёта телефона происходит через автоплатёж, то для успешного завершения транзакции необходимо выполнить следующие действия:

Шаг 1: Настройка автоплатежа
- Пользователь должен настроить автоплатеж на своём счёте телефона. Это может быть сделано путём указания деталей платежа, таких как сумма, периодичность, источник средств и дата выполнения автоплатежа.

Шаг 2: Проверка наличия средств
- Перед выполнением автоплатежа система должна проверить наличие достаточного количества средств на указанном источнике платежа. Например, система может проверить баланс банковского счёта или доступность средств на карте.

Шаг 3: Выполнение автоплатежа
- В установленное время система должна автоматически выполнить платеж по заданным параметрам автоплатежа. Это может включать создание платежного ордера и передачу данных платежного средства для списания средств.

Шаг 4: Обработка платежа
- Система должна передать информацию о пополнении баланса счёта телефона в платежный шлюз или платежную систему для обработки платежа. Это может включать проверку корректности и достоверности платежа, а также обновление баланса счёта телефона.

Шаг 5: Подтверждение и завершение транзакции
- При успешной обработке платежа система должна выдать подтверждение о пополнении баланса счёта телефона. Это может быть уведомление на экране с информацией о новом балансе или отправка уведомления на электронную почту или мобильное устройство пользователя.

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

*Приведите ответ в свободной форме.*

### Решение Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

SQL-системы баз данных имеют несколько преимуществ по сравнению с NoSQL. Вот пять основных преимуществ SQL-систем:

1. Структурированные данные и схема данных:
   - SQL-системы предоставляют возможность определения схемы данных, что означает, что структура данных заранее определена и строго соблюдается.
   - Это позволяет обеспечить консистентность данных и улучшить качество их хранения и анализа.

2. Мощный язык запросов:
   - SQL-системы предлагают мощный и гибкий язык запросов (Structured Query Language), который позволяет пользователю выполнять сложные операции с данными.
   - SQL-запросы поддерживают операции объединения, сортировки, фильтрации и агрегации данных.

3. Поддержка транзакций:
   - SQL-системы обеспечивают полную поддержку транзакций, что означает, что операции с данными могут быть выполнены в одной логической единице работы.
   - Транзакции гарантируют атомарность, согласованность, изолированность и долговечность (ACID-свойства) данных.

4. Сложные отношения и связи между данными:
   - SQL-системы позволяют легко установить сложные отношения и связи между данными, используя внешние ключи и операции объединения.
   - Это полезно для моделирования связанных данных и выполнения сложных запросов, включая операции JOIN для объединения данных из разных таблиц.

5. Запросы с высокой степенью гибкости:
   - SQL-системы предлагают широкий спектр возможностей для фильтрации, сортировки и агрегации данных.
   - Это позволяет пользователям создавать сложные и гибкие запросы, а также оптимизировать их для улучшенной производительности и эффективности.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

NewSQL системы представляют собой срединное решение между классическими SQL и NoSQL системами, объединяя некоторые преимущества обеих подходов. Вот несколько преимуществ у NewSQL систем по сравнению с SQL и NoSQL:

1. Масштабируемость:
   - NewSQL системы обеспечивают горизонтальную масштабируемость, позволяя распределить данные и нагрузку на несколько узлов и серверов.
   - Это позволяет обрабатывать большие объемы данных и обеспечивать высокую производительность в условиях распределенных сред.

2. Высокая производительность:
   - NewSQL системы предлагают оптимизированные алгоритмы обработки запросов и манипуляции данными, что обеспечивает высокую производительность.
   - Они могут обрабатывать большие объемы данных и выполнять запросы в режиме реального времени.

3. Гибкость схемы данных:
   - NewSQL системы предоставляют гибкость в определении схемы данных, позволяя добавлять, изменять и удалять поля без необходимости длительных схематических изменений.
   - Это позволяет быстро адаптироваться к изменяющимся требованиям приложений и бизнес-процессов.

4. Поддержка ACID-свойств:
   - NewSQL системы обеспечивают поддержку ACID-свойств (атомарность, согласованность, изолированность и долговечность) транзакций.
   - Это гарантирует целостность данных и надежность при работе с транзакциями.

5. Расширение SQL возможностей:
   - NewSQL системы расширяют возможности классического SQL языка запросов, добавляя поддержку распределенных операций и обработки данных.
   - Они предлагают возможности для выполнения сложных запросов, включая операции JOIN и агрегации данных, в распределенной среде.

NewSQL системы представляют более современный подход к управлению данными, объединяя гибкость NoSQL и надежность SQL. Они подходят для приложений, которые требуют масштабируемости, высокой производительности и гибкости схемы данных.

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

*Приведите ответ в свободной форме.*

### Решение Задание 4. Кластеры

---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.

